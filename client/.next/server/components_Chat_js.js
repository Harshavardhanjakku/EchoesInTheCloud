"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_Chat_js";
exports.ids = ["components_Chat_js"];
exports.modules = {

/***/ "./components/Chat.js":
/*!****************************!*\
  !*** ./components/Chat.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n// client/components/Chat.js\n\n\nlet socket = null; // module-scoped so it won't be recreated across renders when possible\nfunction Chat() {\n    const [connected, setConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    // NEW: ui/ux states\n    const [isAtBottom, setIsAtBottom] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [unseenCount, setUnseenCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [typingUsers, setTypingUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set()); // set of names typing\n    const selfTypingTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        async function setupSocket() {\n            // dynamic import so it only runs on the client\n            const { io } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! socket.io-client */ \"socket.io-client\"));\n            const SERVER_URL = \"https://echoesinthecloud.onrender.com\" || 0;\n            // create socket\n            socket = io(SERVER_URL, {\n                transports: [\n                    \"websocket\",\n                    \"polling\"\n                ]\n            });\n            socket.on(\"connect\", ()=>{\n                if (!mounted) return;\n                setConnected(true);\n                console.log(\"connected\", socket.id);\n            });\n            socket.on(\"disconnect\", ()=>{\n                setConnected(false);\n            });\n            socket.on(\"message-history\", (history)=>{\n                if (!mounted) return;\n                setMessages(history || []);\n            });\n            socket.on(\"message\", (msg)=>{\n                if (!mounted) return;\n                setMessages((prev)=>[\n                        ...prev,\n                        msg\n                    ]);\n                // NEW: if user is not at bottom, increment unseen counter\n                if (!isAtBottom) setUnseenCount((c)=>c + 1);\n            });\n            // NEW: lightweight typing channel (no server change required; it just won’t show if server doesn’t emit)\n            socket.on?.(\"typing\", (payload = {})=>{\n                if (!mounted) return;\n                const who = (payload.user || \"Someone\").trim();\n                setTypingUsers((prev)=>{\n                    const next = new Set(prev);\n                    next.add(who);\n                    return next;\n                });\n                // auto-clear typing after 2s silence\n                setTimeout(()=>{\n                    setTypingUsers((prev)=>{\n                        const next = new Set(prev);\n                        next.delete(who);\n                        return next;\n                    });\n                }, 2000);\n            });\n        }\n        setupSocket();\n        return ()=>{\n            mounted = false;\n            if (socket) {\n                socket.disconnect();\n                socket = null;\n            }\n        };\n    }, [\n        isAtBottom\n    ]);\n    // auto-scroll (only if user is near bottom)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!scrollRef.current) return;\n        if (isAtBottom) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            setUnseenCount(0);\n        }\n    }, [\n        messages,\n        isAtBottom\n    ]);\n    // NEW: track scroll position to decide autoscroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = scrollRef.current;\n        if (!el) return;\n        const handleScroll = ()=>{\n            const threshold = 60; // px tolerance from bottom\n            const atBottom = el.scrollHeight - el.scrollTop - el.clientHeight < threshold;\n            setIsAtBottom(atBottom);\n            if (atBottom) setUnseenCount(0);\n        };\n        el.addEventListener(\"scroll\", handleScroll);\n        return ()=>el.removeEventListener(\"scroll\", handleScroll);\n    }, []);\n    // NEW: emit typing when text changes, debounced\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!socket || !socket.connected) return;\n        if (selfTypingTimeoutRef.current) clearTimeout(selfTypingTimeoutRef.current);\n        if (text.trim().length > 0) {\n            socket.emit?.(\"typing\", {\n                user: name || \"Anonymous\"\n            });\n            // also add “self” locally (if server doesn’t echo)\n            setTypingUsers((prev)=>{\n                const next = new Set(prev);\n                next.add(name || \"You\");\n                return next;\n            });\n            selfTypingTimeoutRef.current = setTimeout(()=>{\n                setTypingUsers((prev)=>{\n                    const next = new Set(prev);\n                    next.delete(name || \"You\");\n                    return next;\n                });\n            }, 1200);\n        }\n    }, [\n        text,\n        name\n    ]);\n    function sendMessage(e) {\n        e.preventDefault();\n        if (!text.trim()) return;\n        const msg = {\n            user: name || \"Anonymous\",\n            text: text.trim(),\n            time: new Date().toISOString()\n        };\n        // emit to server\n        if (socket && socket.connected) {\n            socket.emit(\"message\", msg);\n        } else {\n            // fallback: add locally\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        ...msg,\n                        id: Date.now()\n                    }\n                ]);\n        }\n        setText(\"\");\n        // scroll to bottom after send\n        requestAnimationFrame(()=>{\n            if (scrollRef.current) {\n                scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n            }\n        });\n    }\n    // NEW: helper — initials avatar\n    const initials = (str)=>(str || \"A\").split(\" \").map((s)=>s[0]).join(\"\").slice(0, 2).toUpperCase();\n    // NEW: pretty time (HH:MM)\n    const shortTime = (iso)=>{\n        try {\n            return new Date(iso).toLocaleTimeString([], {\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n            });\n        } catch  {\n            return \"\";\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"chat-shell\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"glass-bg\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                lineNumber: 182,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"chat-container\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"chat-header\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                children: \"My Chat App\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 186,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `status ${connected ? \"online\" : \"offline\"}`,\n                                children: connected ? \"Online\" : \"Offline\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 187,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                        lineNumber: 185,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"chat-main\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n                                className: \"chat-side\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"label\",\n                                                children: \"Your name\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 195,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                value: name,\n                                                onChange: (e)=>setName(e.target.value),\n                                                placeholder: \"Type your name\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 196,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                        lineNumber: 194,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"legend\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"legend-row\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"dot me\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                        lineNumber: 202,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    \" You\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 201,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"legend-row\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"dot other\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                        lineNumber: 205,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    \" Others\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 204,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                        lineNumber: 200,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 193,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                                className: \"chat-box\",\n                                ref: scrollRef,\n                                children: [\n                                    messages.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"empty-state\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"empty-bubble shimmer\",\n                                                children: \"No messages yet\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 214,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"empty-text\",\n                                                children: \"Say hello to start the conversation ✨\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 215,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                        lineNumber: 213,\n                                        columnNumber: 15\n                                    }, this),\n                                    typingUsers.size > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"typing-bar\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"typing-dots\",\n                                                \"aria-hidden\": true,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                        lineNumber: 223,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                        lineNumber: 224,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {}, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                        lineNumber: 225,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 222,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"typing-text\",\n                                                children: [\n                                                    [\n                                                        ...typingUsers\n                                                    ].slice(0, 2).join(\", \"),\n                                                    typingUsers.size > 2 ? ` +${typingUsers.size - 2}` : \"\",\n                                                    \" typing…\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                lineNumber: 227,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                        lineNumber: 221,\n                                        columnNumber: 15\n                                    }, this),\n                                    messages.map((m)=>{\n                                        const mine = (m.user || \"Anonymous\") === (name || \"Anonymous\");\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `msg-row ${mine ? \"mine\" : \"theirs\"}`,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"avatar\",\n                                                    \"aria-hidden\": true,\n                                                    children: initials(m.user)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                    lineNumber: 242,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"article\", {\n                                                    className: \"message\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"meta\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                    children: m.user\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                                    lineNumber: 249,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"time\",\n                                                                    children: shortTime(m.time)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                                    lineNumber: 250,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                            lineNumber: 248,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text\",\n                                                            children: m.text\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                            lineNumber: 252,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                                    lineNumber: 247,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, m.id || m.time, true, {\n                                            fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                            lineNumber: 237,\n                                            columnNumber: 17\n                                        }, this);\n                                    })\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 210,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                        lineNumber: 192,\n                        columnNumber: 9\n                    }, this),\n                    unseenCount > 0 && !isAtBottom && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"new-msg-pill\",\n                        onClick: ()=>{\n                            if (!scrollRef.current) return;\n                            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n                            setUnseenCount(0);\n                        },\n                        \"aria-label\": \"Jump to newest messages\",\n                        children: [\n                            unseenCount,\n                            \" new message\",\n                            unseenCount > 1 ? \"s\" : \"\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                        lineNumber: 262,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        className: \"composer\",\n                        onSubmit: sendMessage,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                value: text,\n                                onChange: (e)=>setText(e.target.value),\n                                placeholder: \"Write a message…  Press Enter to send, Shift+Enter for new line\",\n                                onKeyDown: (e)=>{\n                                    // allow multiline with Shift+Enter\n                                    if (e.key === \"Enter\" && !e.shiftKey) {\n                                        e.preventDefault();\n                                        sendMessage(e);\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 276,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                children: \"Send\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                                lineNumber: 288,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                        lineNumber: 275,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n                lineNumber: 184,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\jakku\\\\Desktop\\\\pascalcase\\\\projects\\\\chatapp\\\\client\\\\components\\\\Chat.js\",\n        lineNumber: 180,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhQSxjQUFjLElBQUksTUFBTTs7Ozs7OztrQ0FJdEQsOERBQUMwRjt3QkFBS3hCLFdBQVU7d0JBQVd5QixVQUFVL0M7OzBDQUNuQyw4REFBQzJCO2dDQUNDQyxPQUFPN0U7Z0NBQ1A4RSxVQUFVLENBQUM1QixJQUFNakQsUUFBUWlELEVBQUU2QixNQUFNLENBQUNGLEtBQUs7Z0NBQ3ZDRyxhQUFZO2dDQUNaaUIsV0FBVyxDQUFDL0M7b0NBQ1YsbUNBQW1DO29DQUNuQyxJQUFJQSxFQUFFZ0QsR0FBRyxLQUFLLFdBQVcsQ0FBQ2hELEVBQUVpRCxRQUFRLEVBQUU7d0NBQ3BDakQsRUFBRUMsY0FBYzt3Q0FDaEJGLFlBQVlDO29DQUNkO2dDQUNGOzs7Ozs7MENBRUYsOERBQUMwQztnQ0FBT1EsTUFBSzswQ0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdC1jbGllbnQvLi9jb21wb25lbnRzL0NoYXQuanM/MDVhZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjbGllbnQvY29tcG9uZW50cy9DaGF0LmpzXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmxldCBzb2NrZXQgPSBudWxsOyAvLyBtb2R1bGUtc2NvcGVkIHNvIGl0IHdvbid0IGJlIHJlY3JlYXRlZCBhY3Jvc3MgcmVuZGVycyB3aGVuIHBvc3NpYmxlXHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0KCkge1xyXG4gIGNvbnN0IFtjb25uZWN0ZWQsIHNldENvbm5lY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW25hbWUsIHNldE5hbWVdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt0ZXh0LCBzZXRUZXh0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBzY3JvbGxSZWYgPSB1c2VSZWYoKTtcclxuXHJcbiAgLy8gTkVXOiB1aS91eCBzdGF0ZXNcclxuICBjb25zdCBbaXNBdEJvdHRvbSwgc2V0SXNBdEJvdHRvbV0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbdW5zZWVuQ291bnQsIHNldFVuc2VlbkNvdW50XSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFt0eXBpbmdVc2Vycywgc2V0VHlwaW5nVXNlcnNdID0gdXNlU3RhdGUobmV3IFNldCgpKTsgLy8gc2V0IG9mIG5hbWVzIHR5cGluZ1xyXG4gIGNvbnN0IHNlbGZUeXBpbmdUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIHNldHVwU29ja2V0KCkge1xyXG4gICAgICAvLyBkeW5hbWljIGltcG9ydCBzbyBpdCBvbmx5IHJ1bnMgb24gdGhlIGNsaWVudFxyXG4gICAgICBjb25zdCB7IGlvIH0gPSBhd2FpdCBpbXBvcnQoJ3NvY2tldC5pby1jbGllbnQnKTtcclxuXHJcbiAgICAgIGNvbnN0IFNFUlZFUl9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TT0NLRVRfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjUwMDAnO1xyXG5cclxuICAgICAgLy8gY3JlYXRlIHNvY2tldFxyXG4gICAgICBzb2NrZXQgPSBpbyhTRVJWRVJfVVJMLCB7XHJcbiAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xyXG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xyXG4gICAgICAgIHNldENvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY29ubmVjdGVkJywgc29ja2V0LmlkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0Q29ubmVjdGVkKGZhbHNlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzb2NrZXQub24oJ21lc3NhZ2UtaGlzdG9yeScsIChoaXN0b3J5KSA9PiB7XHJcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgc2V0TWVzc2FnZXMoaGlzdG9yeSB8fCBbXSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc29ja2V0Lm9uKCdtZXNzYWdlJywgKG1zZykgPT4ge1xyXG4gICAgICAgIGlmICghbW91bnRlZCkgcmV0dXJuO1xyXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgbXNnXSk7XHJcbiAgICAgICAgLy8gTkVXOiBpZiB1c2VyIGlzIG5vdCBhdCBib3R0b20sIGluY3JlbWVudCB1bnNlZW4gY291bnRlclxyXG4gICAgICAgIGlmICghaXNBdEJvdHRvbSkgc2V0VW5zZWVuQ291bnQoKGMpID0+IGMgKyAxKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBORVc6IGxpZ2h0d2VpZ2h0IHR5cGluZyBjaGFubmVsIChubyBzZXJ2ZXIgY2hhbmdlIHJlcXVpcmVkOyBpdCBqdXN0IHdvbuKAmXQgc2hvdyBpZiBzZXJ2ZXIgZG9lc27igJl0IGVtaXQpXHJcbiAgICAgIHNvY2tldC5vbj8uKCd0eXBpbmcnLCAocGF5bG9hZCA9IHt9KSA9PiB7XHJcbiAgICAgICAgaWYgKCFtb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qgd2hvID0gKHBheWxvYWQudXNlciB8fCAnU29tZW9uZScpLnRyaW0oKTtcclxuICAgICAgICBzZXRUeXBpbmdVc2VycygocHJldikgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgICBuZXh0LmFkZCh3aG8pO1xyXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gYXV0by1jbGVhciB0eXBpbmcgYWZ0ZXIgMnMgc2lsZW5jZVxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgICAgIG5leHQuZGVsZXRlKHdobyk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwU29ja2V0KCk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgbW91bnRlZCA9IGZhbHNlO1xyXG4gICAgICBpZiAoc29ja2V0KSB7XHJcbiAgICAgICAgc29ja2V0LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICBzb2NrZXQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtpc0F0Qm90dG9tXSk7XHJcblxyXG4gIC8vIGF1dG8tc2Nyb2xsIChvbmx5IGlmIHVzZXIgaXMgbmVhciBib3R0b20pXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc2Nyb2xsUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgIGlmIChpc0F0Qm90dG9tKSB7XHJcbiAgICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcclxuICAgICAgc2V0VW5zZWVuQ291bnQoMCk7XHJcbiAgICB9XHJcbiAgfSwgW21lc3NhZ2VzLCBpc0F0Qm90dG9tXSk7XHJcblxyXG4gIC8vIE5FVzogdHJhY2sgc2Nyb2xsIHBvc2l0aW9uIHRvIGRlY2lkZSBhdXRvc2Nyb2xsXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGVsID0gc2Nyb2xsUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWVsKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gICAgICBjb25zdCB0aHJlc2hvbGQgPSA2MDsgLy8gcHggdG9sZXJhbmNlIGZyb20gYm90dG9tXHJcbiAgICAgIGNvbnN0IGF0Qm90dG9tID0gZWwuc2Nyb2xsSGVpZ2h0IC0gZWwuc2Nyb2xsVG9wIC0gZWwuY2xpZW50SGVpZ2h0IDwgdGhyZXNob2xkO1xyXG4gICAgICBzZXRJc0F0Qm90dG9tKGF0Qm90dG9tKTtcclxuICAgICAgaWYgKGF0Qm90dG9tKSBzZXRVbnNlZW5Db3VudCgwKTtcclxuICAgIH07XHJcblxyXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcclxuICAgIHJldHVybiAoKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gTkVXOiBlbWl0IHR5cGluZyB3aGVuIHRleHQgY2hhbmdlcywgZGVib3VuY2VkXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghc29ja2V0IHx8ICFzb2NrZXQuY29ubmVjdGVkKSByZXR1cm47XHJcbiAgICBpZiAoc2VsZlR5cGluZ1RpbWVvdXRSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KHNlbGZUeXBpbmdUaW1lb3V0UmVmLmN1cnJlbnQpO1xyXG5cclxuICAgIGlmICh0ZXh0LnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHNvY2tldC5lbWl0Py4oJ3R5cGluZycsIHsgdXNlcjogbmFtZSB8fCAnQW5vbnltb3VzJyB9KTtcclxuICAgICAgLy8gYWxzbyBhZGQg4oCcc2VsZuKAnSBsb2NhbGx5IChpZiBzZXJ2ZXIgZG9lc27igJl0IGVjaG8pXHJcbiAgICAgIHNldFR5cGluZ1VzZXJzKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgbmV4dC5hZGQobmFtZSB8fCAnWW91Jyk7XHJcbiAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICAgIH0pO1xyXG4gICAgICBzZWxmVHlwaW5nVGltZW91dFJlZi5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0VHlwaW5nVXNlcnMoKHByZXYpID0+IHtcclxuICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXcgU2V0KHByZXYpO1xyXG4gICAgICAgICAgbmV4dC5kZWxldGUobmFtZSB8fCAnWW91Jyk7XHJcbiAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICB9KTtcclxuICAgICAgfSwgMTIwMCk7XHJcbiAgICB9XHJcbiAgfSwgW3RleHQsIG5hbWVdKTtcclxuXHJcbiAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG1zZyA9IHtcclxuICAgICAgdXNlcjogbmFtZSB8fCAnQW5vbnltb3VzJyxcclxuICAgICAgdGV4dDogdGV4dC50cmltKCksXHJcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBlbWl0IHRvIHNlcnZlclxyXG4gICAgaWYgKHNvY2tldCAmJiBzb2NrZXQuY29ubmVjdGVkKSB7XHJcbiAgICAgIHNvY2tldC5lbWl0KCdtZXNzYWdlJywgbXNnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGZhbGxiYWNrOiBhZGQgbG9jYWxseVxyXG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgLi4ubXNnLCBpZDogRGF0ZS5ub3coKSB9XSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dCgnJyk7XHJcbiAgICAvLyBzY3JvbGwgdG8gYm90dG9tIGFmdGVyIHNlbmRcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIGlmIChzY3JvbGxSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbEhlaWdodDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBORVc6IGhlbHBlciDigJQgaW5pdGlhbHMgYXZhdGFyXHJcbiAgY29uc3QgaW5pdGlhbHMgPSAoc3RyKSA9PlxyXG4gICAgKHN0ciB8fCAnQScpXHJcbiAgICAgIC5zcGxpdCgnICcpXHJcbiAgICAgIC5tYXAoKHMpID0+IHNbMF0pXHJcbiAgICAgIC5qb2luKCcnKVxyXG4gICAgICAuc2xpY2UoMCwgMilcclxuICAgICAgLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gIC8vIE5FVzogcHJldHR5IHRpbWUgKEhIOk1NKVxyXG4gIGNvbnN0IHNob3J0VGltZSA9IChpc28pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXNoZWxsXCI+XHJcbiAgICAgIHsvKiBHbGFzc3kgYmFja3BsYXRlICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWJnXCIgLz5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1jb250YWluZXJcIj5cclxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8aDE+TXkgQ2hhdCBBcHA8L2gxPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzdGF0dXMgJHtjb25uZWN0ZWQgPyAnb25saW5lJyA6ICdvZmZsaW5lJ31gfT5cclxuICAgICAgICAgICAge2Nvbm5lY3RlZCA/ICdPbmxpbmUnIDogJ09mZmxpbmUnfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9oZWFkZXI+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1tYWluXCI+XHJcbiAgICAgICAgICA8YXNpZGUgY2xhc3NOYW1lPVwiY2hhdC1zaWRlXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhYmVsXCI+WW91ciBuYW1lPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtuYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj1cIlR5cGUgeW91ciBuYW1lXCIgLz5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuXHJcbiAgICAgICAgICAgIHsvKiBORVc6IHNtYWxsIGxlZ2VuZCAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWdlbmRcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxlZ2VuZC1yb3dcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRvdCBtZVwiIC8+IFlvdVxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVnZW5kLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZG90IG90aGVyXCIgLz4gT3RoZXJzXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9hc2lkZT5cclxuXHJcbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJjaGF0LWJveFwiIHJlZj17c2Nyb2xsUmVmfT5cclxuICAgICAgICAgICAgey8qIE5FVzogZW1wdHkgc3RhdGUgKi99XHJcbiAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGVcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktYnViYmxlIHNoaW1tZXJcIj5ObyBtZXNzYWdlcyB5ZXQ8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtcHR5LXRleHRcIj5TYXkgaGVsbG8gdG8gc3RhcnQgdGhlIGNvbnZlcnNhdGlvbiDinKg8L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7LyogTkVXOiB0eXBpbmcgaW5kaWNhdG9yIGJhciAqL31cclxuICAgICAgICAgICAge3R5cGluZ1VzZXJzLnNpemUgPiAwICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGluZy1iYXJcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInR5cGluZy1kb3RzXCIgYXJpYS1oaWRkZW4+XHJcbiAgICAgICAgICAgICAgICAgIDxpIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxpIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxpIC8+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0eXBpbmctdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICB7Wy4uLnR5cGluZ1VzZXJzXS5zbGljZSgwLCAyKS5qb2luKCcsICcpfVxyXG4gICAgICAgICAgICAgICAgICB7dHlwaW5nVXNlcnMuc2l6ZSA+IDIgPyBgICske3R5cGluZ1VzZXJzLnNpemUgLSAyfWAgOiAnJ30gdHlwaW5n4oCmXHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgbWluZSA9IChtLnVzZXIgfHwgJ0Fub255bW91cycpID09PSAobmFtZSB8fCAnQW5vbnltb3VzJyk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAga2V5PXttLmlkIHx8IG0udGltZX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXNnLXJvdyAke21pbmUgPyAnbWluZScgOiAndGhlaXJzJ31gfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICB7LyogYXZhdGFyIGJ1YmJsZSAqL31cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXJcIiBhcmlhLWhpZGRlbj5cclxuICAgICAgICAgICAgICAgICAgICB7aW5pdGlhbHMobS51c2VyKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7Lyogb3JpZ2luYWwgbWFya3VwIHByZXNlcnZlZCBpbnNpZGUgKi99XHJcbiAgICAgICAgICAgICAgICAgIDxhcnRpY2xlIGNsYXNzTmFtZT1cIm1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e20udXNlcn08L3N0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRpbWVcIj57c2hvcnRUaW1lKG0udGltZSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dFwiPnttLnRleHR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvYXJ0aWNsZT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogbmV3IG1lc3NhZ2VzIHBpbGwgd2hlbiBzY3JvbGxlZCB1cCAqL31cclxuICAgICAgICB7dW5zZWVuQ291bnQgPiAwICYmICFpc0F0Qm90dG9tICYmIChcclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibmV3LW1zZy1waWxsXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmICghc2Nyb2xsUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgICAgICAgICBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxUb3AgPSBzY3JvbGxSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgc2V0VW5zZWVuQ291bnQoMCk7XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJKdW1wIHRvIG5ld2VzdCBtZXNzYWdlc1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHt1bnNlZW5Db3VudH0gbmV3IG1lc3NhZ2V7dW5zZWVuQ291bnQgPiAxID8gJ3MnIDogJyd9XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJjb21wb3NlclwiIG9uU3VibWl0PXtzZW5kTWVzc2FnZX0+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdmFsdWU9e3RleHR9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGV4dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV3JpdGUgYSBtZXNzYWdl4oCmICBQcmVzcyBFbnRlciB0byBzZW5kLCBTaGlmdCtFbnRlciBmb3IgbmV3IGxpbmVcIlxyXG4gICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgLy8gYWxsb3cgbXVsdGlsaW5lIHdpdGggU2hpZnQrRW50ZXJcclxuICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5TZW5kPC9idXR0b24+XHJcbiAgICAgICAgPC9mb3JtPlxyXG5cclxuICAgICAgICB7Lyogc21hbGwgc3R5bGVzIGtlcHQgaW4gZ2xvYmFscy5jc3MgLSBzZWUgZmlsZSAqL31cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInNvY2tldCIsIkNoYXQiLCJjb25uZWN0ZWQiLCJzZXRDb25uZWN0ZWQiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwibmFtZSIsInNldE5hbWUiLCJ0ZXh0Iiwic2V0VGV4dCIsInNjcm9sbFJlZiIsImlzQXRCb3R0b20iLCJzZXRJc0F0Qm90dG9tIiwidW5zZWVuQ291bnQiLCJzZXRVbnNlZW5Db3VudCIsInR5cGluZ1VzZXJzIiwic2V0VHlwaW5nVXNlcnMiLCJTZXQiLCJzZWxmVHlwaW5nVGltZW91dFJlZiIsIm1vdW50ZWQiLCJzZXR1cFNvY2tldCIsImlvIiwiU0VSVkVSX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TT0NLRVRfVVJMIiwidHJhbnNwb3J0cyIsIm9uIiwiY29uc29sZSIsImxvZyIsImlkIiwiaGlzdG9yeSIsIm1zZyIsInByZXYiLCJjIiwicGF5bG9hZCIsIndobyIsInVzZXIiLCJ0cmltIiwibmV4dCIsImFkZCIsInNldFRpbWVvdXQiLCJkZWxldGUiLCJkaXNjb25uZWN0IiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImVsIiwiaGFuZGxlU2Nyb2xsIiwidGhyZXNob2xkIiwiYXRCb3R0b20iLCJjbGllbnRIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsZWFyVGltZW91dCIsImxlbmd0aCIsImVtaXQiLCJzZW5kTWVzc2FnZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRpbWUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJub3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJpbml0aWFscyIsInN0ciIsInNwbGl0IiwibWFwIiwicyIsImpvaW4iLCJzbGljZSIsInRvVXBwZXJDYXNlIiwic2hvcnRUaW1lIiwiaXNvIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsImgxIiwiYXNpZGUiLCJsYWJlbCIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwic3BhbiIsInNlY3Rpb24iLCJyZWYiLCJwIiwic2l6ZSIsImFyaWEtaGlkZGVuIiwiaSIsIm0iLCJtaW5lIiwiYXJ0aWNsZSIsInN0cm9uZyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiZm9ybSIsIm9uU3VibWl0Iiwib25LZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJ0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/Chat.js\n");

/***/ })

};
;